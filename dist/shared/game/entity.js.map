{"version":3,"sources":["../../../src/shared/game/entity.js"],"names":[],"mappings":"ovBAEM;;;KAKJ,SALI,MAKJ,CAAY,KAAZ,CAAmB,sBALf,QAKe,IACjB,CAAK,MAAL,CAAc,KAAd,CADiB,IAEjB,CAAK,WAAL,CAAmB,EAAnB,CAFiB;;;;kBALf,4CAeG,MAAO,SAAU,CACtB,KAAK,WAAL,CAAiB,IAAjB,CAAsB,SAAC,CAAD,CAAI,CAAJ,SAAU,EAAE,QAAF,CAAa,EAAE,QAAF,CAAvB,CAAtB,CADsB,mBAGtB,CAAQ,KAAK,WAAL,CAAkB,mBAAa,CACrC,UAAU,MAAV,CAAiB,KAAjB,CAAwB,QAAxB,EADqC,CAAvC,CAHsB,IAOtB,CAAK,MAAL,CAAc,KAAd,CAPsB;;8CAad,CACR,oBAAQ,KAAK,WAAL,CAAkB,mBAAa,CACrC,UAAU,OAAV,GADqC,CAAvC,CADQ;;;uDAUG,UAAW,CACtB,UAAU,MAAV,CAAmB,IAAnB,CADsB,IAEtB,CAAK,WAAL,CAAiB,IAAjB,CAAsB,SAAtB,EAFsB;;;;uDAUX,IAAK,CAChB,OAAO,iBAAK,KAAK,WAAL,CAAkB,2BAAa,UAAU,GAAV,GAAkB,GAAlB,CAAb,CAA9B,CADgB;;;;6CASV,IAAK,MAAO,CAClB,KAAK,MAAL,CAAY,GAAZ,EAAmB,KAAnB,CADkB;;;;6CASZ,IAAK,CACX,OAAO,KAAK,MAAL,CAAY,GAAZ,CAAP,CADW;;;mCAQJ,CACP,OAAO,KAAK,OAAL,CAAa,IAAb,CAAP,CADO;;;0CAQM,WAAY,CACzB,KAAK,WAAL,CAAmB,UAAnB,CADyB,WAlFvB,0BAuFS","file":"entity.js","sourcesContent":["import { find, forEach } from 'lodash';\n\nclass Entity {\n  /**\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    this._props = props;\n    this._components = [];\n  }\n\n  /**\n   *\n   * @param {Object} props\n   * @param {function} dispatch\n   */\n  update(props, dispatch) {\n    this._components.sort((a, b) => a.priority - b.priority);\n\n    forEach(this._components, component => {\n      component.update(props, dispatch);\n    });\n    \n    this._props = props;\n  }\n\n  /**\n   *\n   */\n  destroy() {\n    forEach(this._components, component => {\n      component.destroy();\n    });\n  }\n\n  /**\n   *\n   * @param {Component} component\n   */\n  addComponent(component) {\n    component.entity = this;\n    this._components.push(component);\n  }\n\n  /**\n   *\n   * @param {string} key\n   * @returns {Component}\n   */\n  getComponent(key) {\n    return find(this._components, component => component.key === key);\n  }\n\n  /**\n   *\n   * @param {string} key\n   * @param {*} value\n   */\n  setProp(key, value) {\n    this._props[key] = value;\n  }\n\n  /**\n   *\n   * @param {string} key\n   * @returns {*}\n   */\n  getProp(key) {\n    return this._props[key];\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  get id() {\n    return this.getProp('id');\n  }\n\n  /**\n   *\n   * @param {Array<Component>} components\n   */\n  set components(components) {\n    this._components = components;\n  }\n}\n\nexport default Entity;\n"]}